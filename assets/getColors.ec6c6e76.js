(function(){"use strict";const i=t=>{const o=[];for(let r=0;r<t.length;r+=4){const M={r:t[r],g:t[r+1],b:t[r+2]};o.push(M)}return o},m=t=>{let o=Number.MAX_VALUE,r=Number.MAX_VALUE,M=Number.MAX_VALUE,s=Number.MIN_VALUE,n=Number.MIN_VALUE,e=Number.MIN_VALUE;t.forEach(g=>{o=Math.min(o,g.r),r=Math.min(r,g.g),M=Math.min(M,g.b),s=Math.max(s,g.r),n=Math.max(n,g.g),e=Math.max(e,g.b)});const c=s-o,u=n-r,a=e-M,b=Math.max(c,u,a);return b===c?"r":b===u?"g":"b"},h=(t,o)=>{if(o===4||t.length===0){const n=t.reduce((e,c)=>(e.r+=c.r,e.g+=c.g,e.b+=c.b,e),{r:0,g:0,b:0});return n.r=Math.round(n.r/t.length),n.g=Math.round(n.g/t.length),n.b=Math.round(n.b/t.length),[n]}const M=m(t);t.sort((n,e)=>n[M]-e[M]);const s=t.length/2;return[...h(t.slice(0,s),o+1),...h(t.slice(s+1),o+1)]};onmessage=function(t){const o=h(i(t.data),0);console.log(o),postMessage([])}})();
